<!DOCTYPE HTML>

<html>

<head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Your Website</title>
        <link rel='stylesheet' href='css/main.css' type='text/css' media='all' />
        <link rel="stylesheet" href="css/prettify.css" type="text/css" />
        <script type="text/javascript" src="js/jquery-1.6.4.min.js"></script>
        <script type="text/javascript" src="js/prettify.js"></script>
</head>

<body>

<div id="forkme">
    <a href="https://github.com/jamuhl/i18next"><img src="img/gihub_ribbon.png"></a>
</div>

<header>
    <a href="">
        <h1 id="title" style="display: none;">i18next</h1>
        <h2 id="subtitle" style="display: none;">ranslation made easy</h2>
    </a>
</header>

<section>

<h3>Grab the sources</h3>

<p>Download the latest sources from github:</p>

<section id="download"> 
    <a class="button" href="downloads/i18next-0.1.tar.gz">i18next v0.1</a> 
    <a class="button" href="downloads/staticSample.tar.gz">sample</a> 
</section>


<!-- START CONTENT -->

<h1>Introduction</h1>

<p>There are a lot of great javascripts modules around to bring translation to clientside web, but there 
where always some features i missed.</p>

<p>Mostly:</p>

<ul><li>Usage of namespaces: split needed translation in more than one file (to share them to other projects, eg. for buttons)</li><li>load resourcesfiles from static source or from a dynamic generated file</li><li>have a jquery function to translate all tags marked with a special attibute</li><li>have an option to post missing translations to the server</li><li>graceful fallback: if it doesn&#39;t find a translation in <em>en-US</em> look first in <em>en</em> befor taking value from fallback language</li></ul>

<p>What else will you find:</p>

<ul><li>support for pluralized strings</li><li>insertion of variables into translations</li><li>translation nesting</li></ul>

<p>What will you find in next release:</p>

<ul><li>support for localstorage</li></ul>

<h1>Usage Sample</h1>

<p>Add the i18next.js after the jquery JavaScript.</p>

<pre><code>&lt;script type=&quot;text/javascript&quot; src=&quot;jquery-1.6.4.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;i18next.js&quot;&gt;&lt;/script&gt;</code></pre>

<p>Add your resourcefile under /locales/en-US/translation.json</p>

<pre><code>{
    &quot;app&quot;: {
      &quot;name&quot;: &quot;i18n&quot;
    },
    &quot;creator&quot;: {
      &quot;firstname&quot;: &quot;Jan&quot;,
      &quot;lastname&quot;: &quot;Mühlemann&quot;
    }
}</code></pre>

<p>Init and use the module:</p>

<pre><code>$.i18n.init({}, function(t) { // will init i18n with default settings and set language from navigator
    var appName = t(&#39;app.name&#39;); // -&gt; i18n
    var creator = t(&#39;creator.firstname&#39;) + &#39; &#39; + t(&#39;creator.lastname&#39;); // -&gt; Jan Mühlemann
});</code></pre>

<p>After initialisation you can use <strong>$.t()</strong> instead of setting translation in the init callback:</p>

<pre><code>var appName = $.t(&#39;app.name&#39;); // -&gt; i18n</code></pre>

<p>If no resource string is found in the specific language (en-US) it will be looked up in <em>en</em> befor taken from fallback language. 
If the key is not in the fallback language the key or a optional defaultValue will be displayed:</p>

<pre><code>var takeDefault = $.t(&#39;app.type&#39;, {defaultValue: &#39;OpenSource&#39;}); // -&gt; OpenSource</code></pre>

<h2>Basic options for init</h2>

<pre><code>$.i18n.init({
      lng: &#39;en-US&#39;                               // defaults to get from navigator
    , fallbackLng: &#39;en&#39;                          // defaults to &#39;dev&#39;
    , ns: &#39;myNamespace&#39;                          // defaults to &#39;tranalation&#39;
    , resGetPath: &#39;myFolder/__lng__/__ns__.json&#39; // defaults to &#39;locales/__lng__/__ns__.json&#39; where ns = translation (default)
    , resStore: {...}                            // if you don&#39;t want your resources to be loaded you can provide the resources
});</code></pre>

<h1>Extended Samples</h1>

<h3>loading multiple namespaces</h3>

<p>Set the ns option to an array on i18n init:</p>

<pre><code>$.i18n.init({
    lng: &#39;en-US&#39;,
    ns: { namespaces: [&#39;ns.common&#39;, &#39;ns.special&#39;], defaultNs: &#39;ns.special&#39;}
});</code></pre>

<p>This will load <strong>en-US</strong>, <strong>en</strong> and <strong>dev</strong> resources for two namespaces (&#39;ns.special&#39; and &#39;ns.common&#39;):</p>

<pre><code>locales
   |
   +-- en-US
   |     |
   |     +-- ns.common
   |     +-- ns.special
   |      
   +-- en
   |    |
   |    +-- ns.common
   |    +-- ns.special
   | 
   +-- dev
        |
        +-- ns.common
        +-- ns.special

// let&#39;s asume this will load following resource strings
{
  &quot;en_US&quot;: {
    &quot;ns.special&quot;: {
      &quot;app&quot;: {
        &quot;name&quot;: &quot;i18n&quot;
      }
    },
    &quot;ns.common&quot;: {}
  },
  &quot;en&quot;: {
    &quot;ns.special&quot;: {
      &quot;app&quot;: {
        &quot;area&quot;: &quot;Area 51&quot;
      }
    },
    &quot;ns.common&quot;: {}
  },
  &quot;dev&quot;: {
    &quot;ns.common&quot;: {
      &quot;app&quot;: {
        &quot;company&quot;: {
          &quot;name&quot;: &quot;my company&quot;
        }
      },
      &quot;add&quot;: &quot;add&quot;
    }
  }
}</code></pre>

<p>you can translate using <em>$.t([namespace:]key, [options])</em></p>

<pre><code>$.t(&#39;app.name&#39;);                   // -&gt; i18n (from &#39;en-US&#39; resourcefile)
$.t(&#39;app.area&#39;);                   // -&gt; Area 51 (from &#39;en&#39; resourcefile)
$.t(&#39;ns.common:app.company.name&#39;); // -&gt; my company (from &#39;dev&#39; resourcefile)
$.t(&#39;ns.common:add&#39;);              // -&gt; add (from &#39;dev&#39; resourcefile)</code></pre>

<p>If no namespace is prepended to the resource key i18n will take the default namespace provided on initalisation.</p>

<h3>insert values into your translation</h3>

<pre><code>// given resource
&quot;insert&quot;: &quot;you are __myVar__&quot;,

$.t(&#39;insert&#39;, {myVar: &#39;great&#39;}) // -&gt; you are great</code></pre>

<h3>support for plurals</h3>

<pre><code>// given resource
&quot;child&quot;: &quot;__count__ child&quot;,
&quot;child_plural&quot;: &quot;__count__ children&quot;

$.t(&#39;child&#39;, {count: 1}) // -&gt; 1 child
$.t(&#39;child&#39;, {count: 3}) // -&gt; 3 children</code></pre>

<p>You can set the <em>pluralSuffix</em> as an option on initialisation.</p>

<h3>nesting</h3>

<pre><code>// given resource
&quot;app&quot;: {
  &quot;area&quot;: &quot;Area 51&quot;,
  &quot;district&quot;: &quot;District 9 is more fun than $t(app.area)&quot;
}

$.t(&#39;app.district&#39;) // -&gt; District 9 is more fun than Area 51</code></pre>

<h3>or you can just use the jquery function provided</h3>

<pre><code>// given resource
&quot;nav&quot;: {
  &quot;home&quot;: &quot;home&quot;,
  &quot;1&quot;: &quot;link1&quot;,
  &quot;2&quot;: &quot;link2&quot;
}

// given html
&lt;ul class=&quot;nav&quot;&gt;
    &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;#&quot; data-i18n=&quot;nav.home&quot;&gt;home&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;#&quot; data-i18n=&quot;nav.1&quot;&gt;link1&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;#&quot; data-i18n=&quot;nav.2&quot;&gt;link2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

// just do to translate all elements having attribute _data-i18n_
$(&#39;.nav&#39;).i18n();</code></pre>

<p>Every child element with an <em>data-i18n</em> attribute will be translated with given key.</p>

<h3>dynamic resouce route</h3>

<p>Set the <em>dynamicLoad</em> option to true on init</p>

<pre><code>$.i18n.init({
    lng: &#39;en-US&#39;
    ns: { namespaces: [&#39;ns.common&#39;, &#39;ns.special&#39;], defaultNs: &#39;ns.special&#39;},
    dynamicLoad: true,
    resGetPath: &#39;myPath/resources.json?ns=__ns__&amp;lng__lng__&#39; // set this according to your needs
});</code></pre>

<p>On init i18n will call the provided route with the querystring parameters language and namespaces (they will be 
seperated by a + which should be a space on serverside).</p>

<p>You will have to return something like:</p>

<pre><code>{
  &quot;en_US&quot;: {
    &quot;ns.special&quot;: {...},
    &quot;ns.common&quot;: {...}
  },
  &quot;en&quot;: {
    &quot;ns.special&quot;: {..},
    &quot;ns.common&quot;: {...}
  },
  &quot;dev&quot;: {
    &quot;ns.special&quot;: {..},
    &quot;ns.common&quot;: {..}
    }
  }
}</code></pre>

<h3>post missing resources</h3>

<p>Just init i18n with the according options (you shouldn&#39;t use this option in production):</p>

<pre><code>$.i18n.init({
    // ...
    sendMissing: true,
    resPostPath: &#39;myPath/add/__lng__/__ns__&#39;, // defaults to &#39;locales/add/__lng__/__ns__&#39;,
});</code></pre>

<h2>Inspiration</h2>

<ul><li><a href="https://github.com/jpjoyal/jsperanto">jsperanto</a>.</li></ul>



<!-- END CONTENT -->
</section>

<footer>
        <p>Copyright 2011 Jan Mühlemann</p>
</footer>


<script type="text/javascript" >
    $(window).load(function () {
        $('code').addClass('prettyprint');
        prettyPrint();
        $('#title').fadeIn(1000, function(){
            $('#subtitle').fadeIn(2000);            
        });
    });
</script>

</body>

</html>