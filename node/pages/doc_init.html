<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="keywords" content="i18n, internationalization, translation, javascript, nodejs, js"><title>i18next-node - initialization</title><link href="../../public/css/index.css" rel="stylesheet"><!-- HTML5 shim, for IE6-8 support of HTML5 elements--><!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]--><!--[if lt IE 8]><link href="../../public/css/font-awesome-ie7-2.0.css" rel="stylesheet" type="text/css"><![endif]--><title>i18next Documentation: Initialization</title></head><body><header class="header"><div class="header-inner"><div class="navbar navbar-fixed-top"><div class="navbar-inner"><div class="container"><!--.btn-navbar is used as the toggle for collapsed navbar content--><a data-toggle="collapse" data-target=".nav-collapse" class="btn btn-navbar"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><!-- Be sure to leave the brand out there if you want it shown--><a href="../../node/index.html" class="brand">i18next-node</a><!-- Everything you want hidden at 940px or less, place within here--><div class="nav-collapse"><ul class="nav"><li><a href="../../node/index.html">Home</a></li><li><a href="../../node/pages/doc_features.html">Documentation</a></li><li><a href="https://github.com/jamuhl/i18next-node/tree/master/sample" target="_new">Sample</a></li><li><a href="../../pages/ext_webtranslate.html">i18next-WebTranslate</a></li><li><a href="../../pages/ext_i18next-conv.html">NEW: gettext</a></li></ul><ul class="nav pull-right"><li><a href="../../node/pages/releasenotes.html"><i class="icon-file"></i> releasenotes</a></li><li><a href="http://travis-ci.org/jamuhl/i18next-node"><i class="icon-check"></i><img src="https://secure.travis-ci.org/jamuhl/i18next-node.png?branch=master"></a></li><li><a href="https://github.com/jamuhl/i18next-node"><i class="icon-github"></i> fork me</a></li></ul></div></div></div></div></div></header><div class="main"><div class="main-inner"><div class="container"><div class="content-container"> <div class="documentation"><div class="hero-unit"><h2><i class="icon-book"></i> Documentation: </h2><div class="row-fluid doc-links"><div class="span3"><div class="doc-link"><a href="../../node/pages/doc_init.html" class="first">Initialization Options</a></div></div><div class="span3"><div class="doc-link"><a href="../../node/pages/doc_features.html">Features</a></div></div><div class="span3"><div class="doc-link"><a href="../../node/pages/doc_express.html">Express Integration</a></div></div><div class="span3"><div class="doc-link"><a href="../../node/pages/doc_templates.html" class="last">Template Usage</a></div></div></div></div><h2>Initialization</h2><pre><code><span class="kwd">var</span><span class="pln"> i18n </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">"i18next"</span><span class="pun">);</span><span class="pln"><br />i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">();</span></code></pre><pre><code><span class="com">// with options</span><span class="pln"><br />i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> lng</span><span class="pun">:</span><span class="pln"> </span><span class="str">"en-US"</span><span class="pln"> </span><span class="pun">});</span><span class="pln"><br /></span><span class="com">// "later"</span><span class="pln"><br /></span><span class="kwd">var</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> i18n</span><span class="pun">.</span><span class="pln">t</span><span class="pun">(</span><span class="str">"key"</span><span class="pun">);</span><span class="pln"><br />&nbsp;<br /></span><span class="com">// with callback</span><span class="pln"><br />i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">t</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> <br />&nbsp; </span><span class="kwd">var</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> t</span><span class="pun">(</span><span class="str">"key"</span><span class="pun">);</span><span class="pln"><br /></span><span class="pun">});</span><span class="pln"><br />&nbsp;<br /></span><span class="com">// with both</span><span class="pln"><br />i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> lng</span><span class="pun">:</span><span class="pln"> </span><span class="str">"en-US"</span><span class="pln"> </span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">t</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> <br />&nbsp; </span><span class="kwd">var</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> t</span><span class="pun">(</span><span class="str">"key"</span><span class="pun">);</span><span class="pln"><br /></span><span class="pun">});</span></code></pre><h3>Basic Options</h3><div class="row-fluid"><div class="span4"><h4 class="feature-title">Set language on init:</h4></div><div class="span8"><div class="feature"><pre><code><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> lng</span><span class="pun">:</span><span class="pln"> </span><span class="str">'en-US'</span><span class="pln"> </span><span class="pun">});</span></code></pre><div class="feature-description"><a name="lookupvalue"></a><p>Resources will be resolved in this order:<ol><li>1) try languageCode plus countryCode, eg. 'en-US'</li><li>2) alternative look it up in languageCode only, eg. 'en'</li><li>3) finally look it up in definded fallback language, default: 'dev'</li></ol></p></div><div class="feature-description"><p> <h4>Change language programatically:</h4>Call function <code>i18n.setLng(lng, callback)</code>.</p><p><h4>Read out current language:</h4>Call function <code>i18n.lng()</code> returns current lng.</p></div></div></div></div><div class="row-fluid"><div class="span4"><h4 class="feature-title">Set language after init:</h4></div><div class="span8"><div class="feature"><pre><code><span class="pln">i18n</span><span class="pun">.</span><span class="pln">setLng</span><span class="pun">(</span><span class="str">'en-US'</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">t</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">/* loading done */</span><span class="pln"> </span><span class="pun">});</span></code></pre><div class="feature-description"><p>you could fix the language by calling it this way:</p><p><code>i18n.setLng('en-US', { fixLng: true }, function(enUS) { /* done */ });</code></p><p>every call to enUS ( enUS(key, opts) ) will return in enUS even if setLng is called again in different lng</p></div></div></div></div><div class="row-fluid"><div class="span4"><a name="detectlng"></a><h4 class="feature-title">language detection:</h4></div><div class="span8"><div class="feature"><div class="feature-description"><p>If language is not set explicitly i18next tries to detect the user language by:<ol><li>1) querystring parameter (?setLng=en-US)</li><li>2) cookie (i18next)</li><li>3) request header</li></ol></p></div><div class="feature-description"><p> <h5>Turn cookie off:</h5>Call function <code>i18n.init({ useCookie: false })</code>.<h5>Don't lookup in header:</h5>Call function <code>i18n.init({ detectLngFromHeaders: false })</code>.</p></div><div class="feature-description"><h4>Detect from route:</h4><p>Alternatively you can init i18next to set language from requested route:</p><pre><code><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> detectLngFromPath</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><span class="com">// default false</span></code></pre><p>Just set the value to the index where the language value is, eg.:<ol><li>detectLngFromPath = 0 --> /en-US/myPage</li><li>detectLngFromPath = 1 --> /cms/en-US/anotherPage</li></ol></p><p> <span class="badge badge-info">Hint:</span> to set i18next to set language to fallbackLng if no locale could be set by path 
you could set init option 'forceDetectLngFromPath' to true. This will stop any further 
lookup via querystring or cookie.</p></div><div class="feature-description"><h4>Control over supported languages:</h4><p>To avoid i18next returning unsupported languages you could set an array of </p>supported languages on init: <code>i18n.init({supportedLngs: ['en', 'de']})</code>.</div></div></div></div><div class="row-fluid"><div class="span4"><h4 class="feature-title">Change the querystring param to lookup lng:</h4></div><div class="span8"><div class="feature"><pre><code><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> detectLngQS</span><span class="pun">:</span><span class="pln"> </span><span class="str">'lang'</span><span class="pln"> </span><span class="pun">});</span></code></pre><div class="feature-description"><p>The current locale to set will be looked up in the new parameter: <code>?lang=en-US </code></p>default would be ?setLng=en-US</div></div></div></div><div class="row-fluid"><div class="span4"><h4 class="feature-title">Change the cookie name to lookup lng:</h4></div><div class="span8"><div class="feature"><pre><code><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> cookieName</span><span class="pun">:</span><span class="pln"> </span><span class="str">'lang'</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><span class="com">/* default 'i18next' */</span></code></pre><div class="feature-description"><p>The current locale to set and looked up in the given cookie parameter.</p></div></div></div></div><div class="row-fluid"><div class="span4"><h4 class="feature-title">Change the cookie domain:</h4></div><div class="span8"><div class="feature"><pre><code><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> cookieDomain</span><span class="pun">:</span><span class="pln"> </span><span class="str">'*.mydomain.com'</span><span class="pln"> </span><span class="pun">});</span></code></pre><div class="feature-description"><p>Sets the cookie domain to given value.</p></div></div></div></div><div class="row-fluid"><div class="span4"><h4 class="feature-title">Disable cookie usage:</h4></div><div class="span8"><div class="feature"><pre><code><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> useCookie</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pln"> </span><span class="pun">});</span></code></pre><div class="feature-description"><p> 
 Use this only if your sure that language will be provided by the other lookup options or 
set programatically.</p></div></div></div></div><div class="row-fluid"><div class="span4"><h4 class="feature-title">preload additional languages on init:</h4></div><div class="span8"><div class="feature"><pre><code><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> preload</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">'de-DE'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'fr'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">});</span></code></pre><div class="feature-description"><p>The additional languages will be preloaded.</p></div><div class="feature-description"><p> <h5 class="alert-heading">Preload after init:</h5>Call function i18n.preload([lngs], callback).</p></div></div></div></div><div class="row-fluid"><div class="span4"><h4 class="feature-title">Unset/Set fallback language:</h4></div><div class="span8"><div class="feature"><h6>setting one or multiple fallback language:</h6><pre><code><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> fallbackLng</span><span class="pun">:</span><span class="pln"> </span><span class="str">'en'</span><span class="pln"> </span><span class="pun">});</span><span class="pln"><br /></span><span class="com">// or</span><span class="pln"><br />i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> fallbackLng</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">'fr'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'en'</span><span class="pun">]</span><span class="pln"> </span><span class="pun">});</span></code></pre><div class="feature-description"><p> 
 If not set it will default to 'dev'. If turned on, all missing key/values will be 
sent to this language.</p><p> <span class="badge badge-info">Production Hint:</span> set fallback language to some meaningful language, eg. 'en'</p></div><h6>turn fallback language feature off:</h6><pre><code><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> fallbackLng</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pln"> </span><span class="pun">});</span></code></pre><div class="feature-description"><p> 
 As the fallbackLng will default to 'dev' you can turn it off by setting the option value to false.
This will prevent loading the fallbacks resource file and any futher look up of missing value inside a fallback file.</p></div></div></div></div><div class="row-fluid"><div class="span4"><a name="loadbehaviour"></a><h4 class="feature-title">Specify which locales to load:</h4><p> 
This will help you optimizing the loading behaviour. In combination with setting 
fallbackLng to false you can reduce the requests to the server to one! </p></div><div class="span8"><div class="feature"><h6>only load current resource file:</h6><pre><code><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> load</span><span class="pun">:</span><span class="pln"> </span><span class="str">'current'</span><span class="pln"> </span><span class="pun">});</span></code></pre><div class="feature-description"><p> 
 If load option is set to current i18next will load the current set language 
(this could be a specific (en-US) or unspecific (en) resource file).</p><p> <span class="badge badge-info">Hint:</span> to prevent loading the fallbackLng's resource file set fallbackLng to false.</p></div><h6>only load unspecific resource file:</h6><pre><code><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> load</span><span class="pun">:</span><span class="pln"> </span><span class="str">'unspecific'</span><span class="pln"> </span><span class="pun">});</span></code></pre><div class="feature-description"><p> 
 If set to unspecific i18next will always load the unspecific resource file 
(eg. en instead of en-US).</p><p> <span class="badge badge-info">Hint:</span> to prevent loading the fallbackLng's resource file set fallbackLng to false.</p></div></div></div></div><div class="row-fluid"><div class="span4"><h4 class="feature-title">Debug output:</h4></div><div class="span8"><div class="feature"><pre><code><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> debug</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">});</span></code></pre><div class="feature-description"><p>If something went wrong you might find some helpful information on console log.</p></div></div></div></div><a name="getresources"></a><h2>Resource Loading</h2><h3>init callback when loaded</h3><div class="row-fluid"><div class="span4"><pre><code><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">(</span><span class="pln">callback</span><span class="pun">);</span></code></pre></div><div class="span8"><div class="feature"><pre><code><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">t</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> <br />&nbsp; </span><span class="kwd">var</span><span class="pln"> appName </span><span class="pun">=</span><span class="pln"> t</span><span class="pun">(</span><span class="str">"key"</span><span class="pun">);</span><span class="pln"><br /></span><span class="pun">});</span></code></pre><div class="feature-description"><p> 
after callback is called you can use the translation function<strong> 't' </strong>to access your resources in given language.</p></div></div></div></div><a name="getresources"></a><h3>options to load resources</h3><div class="row-fluid"><div class="span4"><h4 class="feature-title">Pass in resource store:</h4></div><div class="span8"><div class="feature"><pre><code><span class="com">// tree: lng -&gt; namespace -&gt; key -&gt; nested key</span><span class="pln"><br /></span><span class="kwd">var</span><span class="pln"> resources </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; dev</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> translation</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="str">'key'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'value'</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">},</span><span class="pln"><br />&nbsp; en</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> translation</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="str">'key'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'value'</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">},</span><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; </span><span class="str">'en-US'</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> translation</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="str">'key'</span><span class="pun">:</span><span class="pln"> </span><span class="str">'value'</span><span class="pln"> </span><span class="pun">}</span><span class="pln"> </span><span class="pun">}</span><span class="pln"><br /></span><span class="pun">};</span><span class="pln"><br />&nbsp;<br />i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> resStore</span><span class="pun">:</span><span class="pln"> resources </span><span class="pun">});</span></code></pre><div class="feature-description"><p>As you provide the resources the callbacks will fire immediatly and no external resources will be loaded!</p></div></div></div></div><div class="row-fluid"><div class="span4"><h4 class="feature-title">Set filepath to load resources from:</h4></div><div class="span8"><div class="feature"><pre><code><span class="kwd">var</span><span class="pln"> option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> resGetPath</span><span class="pun">:</span><span class="pln"> </span><span class="str">'locales/__lng__/__ns__.json'</span><span class="pln"> </span><span class="pun">};</span><span class="pln"><br />&nbsp;<br />i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">(</span><span class="pln">option</span><span class="pun">);</span></code></pre><div class="feature-description"><p>Will load 'locales/en-US/translation.json'.</p><p> 
If language is set to<strong> 'en-US' </strong>following resource files will be loaded one-by-one:<ul><li>en-US</li><li>en</li><li>dev (default fallback language)</li></ul></p><p> <span class="badge badge-info">Hint:</span> to lowercase countryCode in requests, eg. to 'en-us' 
set option <strong>lowerCaseLng = true</strong></p></div><pre><code><span class="kwd">var</span><span class="pln"> option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> resGetPath</span><span class="pun">:</span><span class="pln"> </span><span class="str">'locales/__ns__-__lng__.json'</span><span class="pln"> </span><span class="pun">};</span><span class="pln"><br />&nbsp;<br />i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">(</span><span class="pln">option</span><span class="pun">);</span></code></pre><div class="feature-description"><p>Will load 'locales/translation-en-US.json'.</p></div></div></div></div><div class="row-fluid"><div class="span4"><h4 class="feature-title">Change namespace (one):</h4></div><div class="span8"><div class="feature"><pre><code><span class="kwd">var</span><span class="pln"> option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> ns</span><span class="pun">:</span><span class="pln"> </span><span class="str">'resource'</span><span class="pln"> </span><span class="pun">};</span><span class="pln"><br />&nbsp;<br />i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">(</span><span class="pln">option</span><span class="pun">);</span></code></pre><div class="feature-description"><p> 
Will load:<ol><li>'locales/en-US/resource.json'</li><li>'locales/en/resource.json'</li><li>'locales/dev/resource.json'</li></ol></p><p>(Default namespace is 'translation'.)</p></div></div></div></div><div class="row-fluid"><div class="span4"><h4 class="feature-title">Multiple namespace:</h4></div><div class="span8"><div class="feature"><pre><code><span class="kwd">var</span><span class="pln"> option </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> <br />&nbsp; ns</span><span class="pun">:</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> <br />&nbsp; &nbsp; namespaces</span><span class="pun">:</span><span class="pln"> </span><span class="pun">[</span><span class="str">'app'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'buttons'</span><span class="pun">],</span><span class="pln"> <br />&nbsp; &nbsp; defaultNs</span><span class="pun">:</span><span class="pln"> </span><span class="str">'app'</span><span class="pln"><br />&nbsp; </span><span class="pun">}</span><span class="pln"> <br /></span><span class="pun">};</span><span class="pln"><br />&nbsp;<br />i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">(</span><span class="pln">option</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">t</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; </span><span class="com">// access default namespace</span><span class="pln"><br />&nbsp; </span><span class="kwd">var</span><span class="pln"> x </span><span class="pun">=</span><span class="pln"> t</span><span class="pun">(</span><span class="str">"any.key.from.app"</span><span class="pun">)</span><span class="pln"><br />&nbsp;<br />&nbsp; </span><span class="com">// to access another namespace prepend [ns]:</span><span class="pln"><br />&nbsp; </span><span class="kwd">var</span><span class="pln"> y </span><span class="pun">=</span><span class="pln"> t</span><span class="pun">(</span><span class="str">"buttons:any.key.from.buttons"</span><span class="pun">)</span><span class="pln"> <br /></span><span class="pun">});</span></code></pre><div class="feature-description"><p> 
Will load:<ol><li>'locales/en-US/app.json'</li><li>'locales/en/app.json'</li><li>'locales/dev/app.json'</li><li>'locales/en-US/buttons.json'</li><li>'locales/en/buttons.json'</li><li>'locales/dev/buttons.json' </li></ol></p></div></div></div></div><a name="backend"></a><h3>Change Backend Implementation</h3><div class="row-fluid"><div class="span4"><h4 class="feature-title">Change out backend:</h4><p>default is filesystem</p><p>Options are:</p><ul><li>mongoDb</li><li>redis</li><li>couchDb</li><li>gettext</li></ul></div><div class="span8"><div class="feature"><h4>mongoDb:</h4><pre><code><span class="pln">npm install i18next</span><span class="pun">.</span><span class="pln">mongoDb<br />&nbsp;<br /></span><span class="kwd">var</span><span class="pln"> i18nextMongoSync </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'i18next.mongoDb'</span><span class="pun">)</span><span class="pln"><br />&nbsp;<br />i18nextMongoSync</span><span class="pun">.</span><span class="pln">connect</span><span class="pun">({</span><span class="pln"><br />&nbsp; &nbsp; host</span><span class="pun">:</span><span class="pln"> </span><span class="str">"localhost"</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; port</span><span class="pun">:</span><span class="pln"> </span><span class="lit">27017</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; dbName</span><span class="pun">:</span><span class="pln"> </span><span class="str">"i18next"</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="com">/*<br />&nbsp; &nbsp; resCollectionName: "resources", <br />&nbsp; &nbsp; username: "usr",<br />&nbsp; &nbsp; password: "pwd",<br />&nbsp; &nbsp; options: {<br />&nbsp; &nbsp; &nbsp; auto_reconnect: true, // default true<br />&nbsp; &nbsp; &nbsp; ssl: false // default false<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; */</span><span class="pln"><br /></span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; i18n</span><span class="pun">.</span><span class="pln">backend</span><span class="pun">(</span><span class="pln">i18nMongoSync</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">();</span><span class="pln"><br /> </span><span class="pun">});</span></code></pre><h4>redis:</h4><pre><code><span class="pln">npm install i18next</span><span class="pun">.</span><span class="pln">redis<br />&nbsp;<br /></span><span class="kwd">var</span><span class="pln"> i18nextRedisSync </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'i18next.redis'</span><span class="pun">)</span><span class="pln"><br />&nbsp;<br />i18nextRedisSync</span><span class="pun">.</span><span class="pln">connect</span><span class="pun">({</span><span class="pln"><br />&nbsp; &nbsp; host</span><span class="pun">:</span><span class="pln"> </span><span class="str">"localhost"</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; port</span><span class="pun">:</span><span class="pln"> </span><span class="lit">27017</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; database</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="com">// resCollectionName: "resources",</span><span class="pln"><br /></span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; i18n</span><span class="pun">.</span><span class="pln">backend</span><span class="pun">(</span><span class="pln">i18nRedisSync</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">();</span><span class="pln"><br /> </span><span class="pun">});</span></code></pre><h4>couchDb:</h4><pre><code><span class="pln">npm install i18next</span><span class="pun">.</span><span class="pln">couchdb<br />&nbsp;<br /></span><span class="kwd">var</span><span class="pln"> i18nextCouchSync </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'i18next.couchdb'</span><span class="pun">)</span><span class="pln"><br />&nbsp;<br />i18nextCouchSync</span><span class="pun">.</span><span class="pln">connect</span><span class="pun">({</span><span class="pln"><br />&nbsp; &nbsp; host</span><span class="pun">:</span><span class="pln"> </span><span class="str">"http://localhost"</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; port</span><span class="pun">:</span><span class="pln"> </span><span class="lit">5984</span><span class="pun">,</span><span class="pln"><br />&nbsp; &nbsp; dbName</span><span class="pun">:</span><span class="pln"> </span><span class="str">"i18next"</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="com">/*<br />&nbsp; &nbsp; resCollectionName: "resources",<br />&nbsp; &nbsp; options: {<br />&nbsp; &nbsp; &nbsp; cache: true, // default true<br />&nbsp; &nbsp; &nbsp; raw: false, // default false<br />&nbsp; &nbsp; &nbsp; secure: true, // default false<br />&nbsp; &nbsp; &nbsp; auth: { username: 'usr', password: 'pwd' } // default none<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; */</span><span class="pln"><br /></span><span class="pun">},</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; i18n</span><span class="pun">.</span><span class="pln">backend</span><span class="pun">(</span><span class="pln">i18nextCouchSync</span><span class="pun">);</span><span class="pln"><br />&nbsp; &nbsp; i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">();</span><span class="pln"><br /> </span><span class="pun">});</span></code></pre><h4>additional backend functions</h4><pre><code><span class="com">// loading loadResourceSet(lng, ns, cb)</span><span class="pln"><br /> backend</span><span class="pun">.</span><span class="pln">fetchOne</span><span class="pun">(</span><span class="str">"en-US,"</span><span class="pln"> </span><span class="str">"myNamespace"</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">err</span><span class="pun">,</span><span class="pln"> resourceSet</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="pun">...</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> <br />&nbsp;<br /></span><span class="com">// saving saveResourceSet(lng, ns, resouceSet, cb)</span><span class="pln"><br /></span><span class="kwd">var</span><span class="pln"> myResourceSet </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{...};</span><span class="pln"><br />backend</span><span class="pun">.</span><span class="pln">saveResourceSet</span><span class="pun">(</span><span class="str">"en-US"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"myNamespace"</span><span class="pun">,</span><span class="pln"> myResourceSet</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">err</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"><br />&nbsp; &nbsp; </span><span class="com">// handle err</span><span class="pln"><br /></span><span class="pun">});</span></code></pre><div class="feature-description"><p> 
The additional database backends where provided thanks to <a href="https://github.com/adrai">adrai.</a></p></div></div></div></div><div class="row-fluid"><div class="span4"><a name="remoteSync"></a><h4 class="feature-title">remote sync backend:</h4><p>load resources from a different server.</p></div><div class="span8"><div class="feature"><pre><code><span class="pln">npm install i18next</span><span class="pun">.</span><span class="pln">remotesync<br />&nbsp;<br /></span><span class="kwd">var</span><span class="pln"> remoteSync </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'i18next.remotesync'</span><span class="pun">)</span><span class="pln"><br />&nbsp;<br />i18n</span><span class="pun">.</span><span class="pln">backend</span><span class="pun">(</span><span class="pln">remoteSync</span><span class="pun">);</span><span class="pln"><br />i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> <br />&nbsp; resGetPath</span><span class="pun">:</span><span class="pln"> </span><span class="str">'http://myServer.com/locales/__lng__/__ns__.json'</span><span class="pun">,</span><span class="pln"><br />&nbsp; resPostPath</span><span class="pun">:</span><span class="pln"> </span><span class="str">'http://myServer.com/locales/add/__lng__/__ns__'</span><span class="pln"><br />&nbsp; </span><span class="com">// resUpdatePath: 'http://myServer.com/locales/update/__lng__/__ns__',</span><span class="pln"><br />&nbsp; </span><span class="com">// resREmovePath: 'http://myServer.com/locales/remove/__lng__/__ns__'</span><span class="pln"><br /></span><span class="pun">});</span></code></pre><div class="feature-description"><p>remote sync just uses request to get or set resources from a remote location.</p></div></div></div></div><div class="row-fluid"><div class="span4"><a name="gettext"></a><h4 class="feature-title">gettext backend:</h4><p>load gettext files (.mo/.po) from filesystem.</p></div><div class="span8"><div class="feature"><pre><code><span class="pln">npm install i18next</span><span class="pun">.</span><span class="pln">gettext<br />&nbsp;<br /></span><span class="kwd">var</span><span class="pln"> gettextSync </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'i18next.gettext'</span><span class="pun">)</span><span class="pln"><br />&nbsp;<br />i18n</span><span class="pun">.</span><span class="pln">backend</span><span class="pun">(</span><span class="pln">gettextSync</span><span class="pun">);</span><span class="pln"><br />i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> resGetPath</span><span class="pun">:</span><span class="pln"> </span><span class="str">'locales/__lng__/__ns__.mo'</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><span class="com">// or .po</span></code></pre><div class="feature-description"><p>gettext-sync only supports loading resources! Saving of missing resources is not yet supported.</p><p> <span class="badge badge-info">Tips:</span><h6>namespaces:</h6>alternatively to prepending namespace <code>i18n.t('messages:login failed!')</code>  you could pass it via options <code>i18n.t('login failed!', { ns: 'messages' }).</code><br><br><h6>defining different separators</h6>as '.' and ':' might be part of the key (eg. <code>i18n.t('this will break. because of the dot')</code> ) you could change the separators, like:<pre><code><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"><br />&nbsp; keyseparator</span><span class="pun">:</span><span class="pln"> </span><span class="str">'::'</span><span class="pun">,</span><span class="pln"><br />&nbsp; nsseparator</span><span class="pun">:</span><span class="pln"> </span><span class="str">':::'</span><span class="pln"><br /></span><span class="pun">});</span></code></pre>to prevent issues.</p></div></div></div></div><div class="row-fluid"><div class="span4"><a name="yaml"></a><h4 class="feature-title">yaml backend:</h4><p>load yaml files (.yml/.yaml) from filesystem.</p></div><div class="span8"><div class="feature"><pre><code><span class="pln">npm install i18next</span><span class="pun">.</span><span class="pln">yaml<br />&nbsp;<br /></span><span class="kwd">var</span><span class="pln"> yamlSync </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">require</span><span class="pun">(</span><span class="str">'i18next.yaml'</span><span class="pun">)</span><span class="pln"><br />&nbsp;<br />i18n</span><span class="pun">.</span><span class="pln">backend</span><span class="pun">(</span><span class="pln">yamlSync</span><span class="pun">);</span><span class="pln"><br />i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"> resGetPath</span><span class="pun">:</span><span class="pln"> </span><span class="str">'locales/__lng__/__ns__.yml'</span><span class="pln"> </span><span class="pun">});</span><span class="pln"> </span><span class="com">// or .yaml</span></code></pre><div class="feature-description"><p>yaml-sync only supports loading resources! Saving of missing resources is not yet supported.</p><p> <span class="badge badge-info">Tips:</span><h6>namespaces:</h6>alternatively to prepending namespace <code>i18n.t('messages:login failed!')</code>  you could pass it via options <code>i18n.t('login failed!', { ns: 'messages' }).</code><br><br><h6>defining different separators</h6>as '.' and ':' might be part of the key (eg. <code>i18n.t('this will break. because of the dot')</code> ) you could change the separators, like:<pre><code><span class="pln">i18n</span><span class="pun">.</span><span class="pln">init</span><span class="pun">({</span><span class="pln"><br />&nbsp; keyseparator</span><span class="pun">:</span><span class="pln"> </span><span class="str">'::'</span><span class="pun">,</span><span class="pln"><br />&nbsp; nsseparator</span><span class="pun">:</span><span class="pln"> </span><span class="str">':::'</span><span class="pln"><br /></span><span class="pun">});</span></code></pre>to prevent issues.</p></div></div></div></div></div></div></div></div></div><div class="extra"><div class="extra-inner"><div class="container"><div class="row"><div class="span4"><h4>about me</h4><ul><li><a href="https://github.com/jamuhl"><i class="icon-github"></i> github</a></li><li><a href="https://twitter.com/jamuhl"><i class="icon-twitter"></i> twitter</a></li></ul></div><div class="span4"><h4>help</h4><ul><li><a href="https://github.com/jamuhl/i18next-node/issues"> 
issues (<i class="icon-github"></i>)</a></li></ul></div><div class="span4"><h4>legal</h4><ul><li><a href="https://github.com/jamuhl/i18next-node/blob/master/license">license</a></li></ul></div></div></div></div></div><footer class="footer"><div class="footer-inner"><div class="container"><div class="row"><div class="span12">i18next-node is freely distributable under the terms of the MIT license.</div></div></div></div></footer><script src="../../public/js/jquery-1.7.2.min.js"></script><script src="../../public/js/bootstrap-2.0.2.min.js"></script><script type="text/javascript">var _gaq = window._gaq || [];
_gaq.push(['_setAccount', 'UA-33181917-3']);
_gaq.push(['_setDomainName', 'none']); // track localhost
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();</script></body></html>