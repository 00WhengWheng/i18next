
(function(a){function g(c,e){a.extend(b,c),typeof b.ns=="string"&&(b.ns={namespaces:[b.namespace],defaultNs:b.namespace}),b.lng||(b.lng=l()),d=b.lng,f.push(d),d.length===5&&f.push(d.substr(0,2)),f.push(b.fallbackLng),p(b.lng,b.ns,b.dynamicLoad,function(c){b.setDollarT&&(a.t=a.t||n,h()),e&&e(n)})}function h(){a.fn.i18n=function(b){return this.each(function(){var b=a(this).find("[data-i18n]");b.each(function(){var b=a(this),c=b.attr("data-i18n"),d=b.text();a(this).text(a.t(c,{defaultValue:d}))})})}}function j(c,d){return a.each(d,function(a,d){c=c.replace([b.interpolationPrefix,a,b.interpolationSuffix].join(""),d)}),c}function k(a,c){while(a.indexOf(b.reusePrefix)!=-1){e++;if(e>b.maxRecursion)break;var d=a.indexOf(b.reusePrefix),f=a.indexOf(b.reuseSuffix,d)+b.reuseSuffix.length,g=a.substring(d,f),h=g.replace(b.reusePrefix,"").replace(b.reuseSuffix,""),i=o(h,c);a=a.replace(g,i)}return a}function l(){return navigator?navigator.language?navigator.language:navigator.userLanguage:b.fallbackLng}function m(a){return a.count&&typeof a.count!="string"&&a.count>1}function n(a,b){return e=0,o(a,b)}function o(d,e){e=e||{};var g=e.defaultValue||d;if(!c)return g;var h=b.ns.defaultNs;if(d.indexOf(b.nsseparator)>-1){var l=d.split(b.nsseparator);h=l[0],d=l[1]}if(m(e)){var o=a.extend({},e);delete o.count,o.defaultValue=b.pluralNotFound;var p=d+b.pluralSuffix,q=n(p,o);if(q!=b.pluralNotFound)return j(q,{count:e.count})}var r;for(i=0,len=f.length;i<len;i++){if(r)break;var s=f[i],t=d.split(b.keyseparator),u=0,v=c[s][h];while(t[u])v=v&&v[t[u]],u++;v&&(v=j(v,e),v=k(v,e),r=v)}if(!r&&b.sendMissing){var w={};w[d]=g,a.ajax({url:[b.dicoPath,"/add/",b.fallbackLng,"/",h].join(""),type:"POST",data:w,success:function(a,e,f){c[b.fallbackLng][h][d]=g},error:function(a,b,c){},dataType:"json"})}return r?r:g}function p(d,e,g,h){if(b.dictionary){c=b.dictionary,h(null);return}if(!g){c={};var i=e.namespaces.length*f.length;a.each(e.namespaces,function(b,c){a.each(f,function(a,b){q(b,c,function(a){i--,i===0&&h(null)})})})}else a.ajax({url:[b.dicoPath,"/resource.json","?ns=",e.namespaces.join("+"),"&lng=",f.join("+")].join(""),success:function(a,b,d){c=a,h(null)},error:function(a,b,c){h("failed loading resource.json error: "+c)},dataType:"json"})}function q(d,e,f){a.ajax({url:[b.dicoPath,"/",d,"/",e,".json"].join(""),success:function(a,b,g){c[d]||(c[d]={}),c[d][e]||(c[d][e]={}),c[d][e]=a,f(null)},error:function(a,b,g){c[d]||(c[d]={}),c[d][e]||(c[d][e]={}),c[d][e]={},f(null)},dataType:"json"})}function r(){return d}var b={};b.interpolationPrefix="__",b.interpolationSuffix="__",b.pluralSuffix="_plural",b.maxRecursion=50,b.reusePrefix="$t(",b.reuseSuffix=")",b.fallbackLng="dev",b.dicoPath="locales",b.keyseparator=".",b.nsseparator=":",b.setDollarT=!0,b.dictionary=!1,b.lng=!1,b.pluralNotFound=["plural_not_found",Math.random()].join(""),b.ns="root",b.dynamicLoad=!1,b.sendMissing=!1;var c=!1,d=!1,e=0,f=[];a.i18n=a.i18n||{init:g,t:n,translate:n,detectLanguage:l,lng:r}})(jQuery)