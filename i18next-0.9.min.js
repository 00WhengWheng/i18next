
(function(a){function g(e,g){a.extend(b,e),typeof b.ns=="string"&&(b.ns={namespaces:[b.namespace],defaultNs:b.namespace}),b.lng||(b.lng=m()),d=b.lng,f=[],f.push(d),d.length===5&&f.push(d.substr(0,2)),f.push(b.fallbackLng);if(b.resStore){c=b.resStore,g(null);return}q.load(f,b.ns,b.useLocalStorage,b.dynamicLoad,function(a,d){c=d,b.setJqueryExt&&j(),g&&g(o)})}function h(a,b){g({lng:a},b)}function j(){a.t=a.t||o,a.fn.i18n=function(b){return this.each(function(){var b=a(this).find("[data-i18n]");b.each(function(){var b=a(this),c=b.attr("data-i18n"),d=b.text();a(this).text(a.t(c,{defaultValue:d}))})})}}function k(c,d){return a.each(d,function(a,d){c=c.replace([b.interpolationPrefix,a,b.interpolationSuffix].join(""),d)}),c}function l(a,c){while(a.indexOf(b.reusePrefix)!=-1){e++;if(e>b.maxRecursion)break;var d=a.indexOf(b.reusePrefix),f=a.indexOf(b.reuseSuffix,d)+b.reuseSuffix.length,g=a.substring(d,f),h=g.replace(b.reusePrefix,"").replace(b.reuseSuffix,""),i=p(h,c);a=a.replace(g,i)}return a}function m(){return navigator?navigator.language?navigator.language:navigator.userLanguage:b.fallbackLng}function n(a){return a.count&&typeof a.count!="string"&&a.count>1}function o(a,b){return e=0,p(a,b)}function p(d,e){e=e||{};var g=e.defaultValue||d;if(!c)return g;var h=b.ns.defaultNs;if(d.indexOf(b.nsseparator)>-1){var j=d.split(b.nsseparator);h=j[0],d=j[1]}if(n(e)){var m=a.extend({},e);delete m.count,m.defaultValue=b.pluralNotFound;var p=d+b.pluralSuffix,r=o(p,m);if(r!=b.pluralNotFound)return k(r,{count:e.count})}var s;for(i=0,len=f.length;i<len;i++){if(s)break;var t=f[i],u=d.split(b.keyseparator),v=0,w=c[t][h];while(u[v])w=w&&w[u[v]],v++;w&&(w=k(w,e),w=l(w,e),s=w)}return!s&&b.sendMissing&&q.postMissing(h,d,g),s?s:g}function r(){return d}var b={lng:!1,fallbackLng:"dev",ns:"translation",nsseparator:":",keyseparator:".",resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",resStore:!1,useLocalStorage:!0,dynamicLoad:!1,sendMissing:!1,interpolationPrefix:"__",interpolationSuffix:"__",reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),setJqueryExt:!0},c=!1,d=!1,e=0,f=[],q={load:function(b,c,d,e,f){d?q._loadLocal(b,function(d,g){var h=[];for(i=0,len=b.length;i<len;i++)g[b[i]]||h.push(b[i]);h.length>0?q._fetch(h,c,e,function(b,c){a.extend(g,c),q._storeLocal(c),f(null,g)}):f(null,g)}):q._fetch(b,c,e,function(a,b){f(null,b)})},_loadLocal:function(b,c){var d={};if(window.localStorage){var e=b.length;a.each(b,function(a,b){var f=window.localStorage.getItem("res_"+b);f&&(d[b]=JSON.parse(f)),e--,e===0&&c(null,d)})}},_storeLocal:function(a){if(window.localStorage)for(var b in a)window.localStorage.setItem("res_"+b,JSON.stringify(a[b]));return},_fetch:function(c,d,e,f){var g={};if(!e){var h=d.namespaces.length*c.length;a.each(d.namespaces,function(b,d){a.each(c,function(a,b){q._fetchOne(b,d,function(a,c){g[b]={},g[b][d]=c,h--,h===0&&f(null,g)})})})}else a.ajax({url:k(b.resGetPath,{lng:c.join("+"),ns:d.namespaces.join("+")}),success:function(a,b,c){f(null,a)},error:function(a,b,c){f("failed loading resource.json error: "+c)},dataType:"json"})},_fetchOne:function(c,d,e){a.ajax({url:k(b.resGetPath,{lng:c,ns:d}),success:function(a,b,c){e(null,a)},error:function(a,b,c){e(c,{})},dataType:"json"})},postMissing:function(d,e,f){var g={};g[e]=f,a.ajax({url:k(b.resPostPath,{lng:b.fallbackLng,ns:d}),type:"POST",data:g,success:function(a,f,g){c[b.fallbackLng][d][e]=notfound},error:function(a,b,c){},dataType:"json"})}};a.i18n=a.i18n||{init:g,setLng:h,t:o,translate:o,detectLanguage:m,lng:r}})(jQuery)